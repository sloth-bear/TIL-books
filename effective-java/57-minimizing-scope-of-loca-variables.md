# Today I Learned

| 구분 | 내용                        |
| ---- | --------------------------|
| DATE | 2023.12.30                |
| PART | 57. 지역변수의 범위를 최소화하라 |

# 10장 일반적인 프로그래밍 원칙
* 자바 언어의 핵심 요소에 집중
* 지역변수, 제어구조, 라이브러리, 데이터 타입
* 리플렉션과 네이티브 메서드
* 최적화와 명명 규칙

## Item57. 지역변수의 범위를 최소화하라 
지역변수의 유효 범위를 최소로 줄이면 코드 가독성과 유지보수성이 높아지고 오류 가능성은 낮아진다. C와 같이 역사가 깊은 프로그래밍 언어에서는 지역변수를 코드 블록의 첫 머리에 선언하는 경우가 많고, 여전히 습관처럼 따르는 프로그래머도 있다. 그러나 자바에서는 문장을 선언할 수 있는 곳이면 어디서든 변수를 선언할 수 있다. (C도 C99 표준부터는 바뀌었다.)

### 지역변수 - 가장 처음 쓰일 때 선언하는 것
* 지역변수 scope을 줄이는 가장 강력한 기법이다. 
* 미리 선언부터 해두면 코드가 어수선해져 가독성이 떨어진다. 
* 실제로 사용하는 시점엔 타입과 초기값이 기억나지 않을 수 있다. 
* 변수가 쓰이는 범위보다 너무 앞서 선언하거나, 다 쓴 후에도 여전히 살아 있기 쉽다.

### 지역변수 - 선언과 동시에 초기화 
* 물론 초기화에 필요한 정보가 충분하지 않다면 충분해질 때까지 선언을 미룰 것
* try-catch문은 예외: 변수 초기화 표현식에서 검사 예외를 던질 가능성이 있다면 try 블록 안에서 초기화 할 것 

##### 반복문 - while문 대신 for문 사용
while문 대신 for문을 사용하면 변수 scope을 줄이기 쉽다. 

1. for-each문 사용하기: 반복 변수(loop variable) scope이 반복문 내로 제한된다. (반복자가 필요 없을 경우)
```java
for (Element e : c) {
  ...
}
```

2. for문 사용 시 (반복자가 필요할 경우)
반복 여부를 결정짓는 변수 i의 한곗값을 변수 n에 저장하여 반복 때마다 다시 계산해야 하는 비용을 없앴다. 같은 값을 반환하는 메서드를 매번 호출한다면 이 관용구를 사용하기 바란다. (단순 list size라면 리스트의 크기가 반복문 실행 동안 변경되지 않는다면, list.size() 호출은 성능상 큰 문제가 되지 않는다.)
```java
for (int i = 0, n = expensiveCoputation(); i < n; i++) {
  ...
}
```