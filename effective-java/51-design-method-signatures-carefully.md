# Today I Learned

| 구분 | 내용                        |
| ---- | --------------------------|
| DATE | 2024.01.25                |
| PART | 51. 메서드 시그니처를 신중히 설계하라 |

# 8장 Method

## Item51. 메서드 시그니처를 신중히 설계하라

### 1. Choose method name carefully
* 메서드 이름은 신중하게 짓자 
* ***항상 표준 명명 규칙을 따라야 한다 (Item 68)***
* ***이해할 수 있고, 같은 패키지에 속한 다른 이름들과 일관되게 짓는 게 최우선 목표***
* 개발자 커뮤니티에서 널리 받아들여지는 이름 사용
* 긴 이름은 피할 것 - 애매하면 자바 라이브러리의 API 가이드를 참조 

### 2. Don't go voerboard in providing convenience method
* 편의 메서드는 너무 많이 만들지 말자: 모든 메서드는 각각 자신의 소임을 다 해야 한다 => 자신의 각 기능을 완벽히 수행하는 메서드로 제공해야 한다.
* 메서드가 너무 많은 클래스(인터페이스)는 익히고, 사용, 문서화, 테스트, 유지보수하기 어렵다 
* 확신이 서지 않으면 만들지 말자 (아주 자주 쓰일 경우에만 약칭 메서드를 두기 바란다.)

### 3. Avoid long parameter lists
* 4개 이하가 좋다.
* 4개가 넘어가면 기억하기 쉽지 않고, 개발하기 어렵다. 
* 같은 타입의 매개변수 여러 개가 연달아 나오는 경우가 특히 해롭다. (순서를 바꿔도 아무도 모른다.)

#### 긴 매개변수 목록 짧게 줄이는 기법
1. 여러 메서드로 쪼갠다. 
	* 쪼개진 메서드 각각은 원래 매개변수 목록의 부분집합을 받는다.
	* 잘못하면 메서드가 너무 많아질 수 있지만, 직교성을 높여 오히려 메서드 수를 줄여주는 효과도 있다. e.g. `java.util.List - subList, indexOf`: 전체 리스트가 아닌 지정된 범위의 부분 리스트에서의 인덱스를 찾을 때 각각을 합쳐서 사용하면 유연함과 강함이 균형을 이룬 API가 만들어진 것
2. 매개변수 여러 개를 묶어주는 도우미 클래스 생성
	* 일반적으로 이런 도우미 클래스는 정적 멤버 클래스(Item 24)로 둔다. 
	* 특히 잇따른 매개변수 몇 개를 독립된 하나의 개념으로 볼 수 있을 때 추천하는 기법
	* e.g. 카드게임: 메서드 호출할 때 카드 숫자, 무늬를 뜻하는 두 매개변수를 항상 같은 순서로 전달한다면? 둘을 묶는 도우미 클래스를 만들어 하나의 매개변수로 주고받음.
3. 1, 2 두 기법 혼합 
	* 객체 생성에 사용한 빌더 패턴(Item 2)을 메서드 호출에 응용
	* 매개변수가 많을 때, 그 중 일부는 생략해도 괜찮을 때 사용 
	* 모든 매개변수를 하나로 추상화한 객체 정의 -> 클라이언트에서 이 객체의 setter를 호출해 필요한 값 설정(각 setter는 매개변수 하나 혹은 서로 연관된 몇 개만 설정) -> 필요한 매개변수 설정 후 execute 메서드를 호출해 앞서 설정한 매개변수들의 유효성을 검사(client) -> 설정이 완료된 객체를 넘겨 원하는 계산 수행

### 4. For parameter types, faver interfaces over classes
* 매개변수의 타입으로 클래스보다는 인터페이스가 더 낫다. (Item 64)
* e.g. `HashMap`을 직접 넘기기보다는 `Map`

### 5. Prefer two-element enum types to boolean parameters
* `boolean`보다는 원소 2개짜리 enum type이 낫다. 
* 메서드 이름상 boolean을 받아야 의미가 더 명확할 때는 예외 