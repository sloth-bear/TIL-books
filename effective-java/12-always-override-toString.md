# Today I Learned

| 구분 | 내용                            |
| ---- | ------------------------------|
| DATE | 2024.01.05                    |
| PART | 12. toString을 항상 재정의하라  |

# 4장 Methods common to All Objects (모든 객체의 공통 메서드)
* `Object`: 객체를 만들 수 있는 구체 클래스지만, 기본적으로는 상속해서 사용하도록 설계됨 
* `final`이 아닌 메서드(`equals, hashCode, toString, clnoe, finalize`)는 모두 overriding을 염두에 두고 설계된 것이라 재정의 시 지켜야 하는 일반 규약이 명확히 정의되어 있음. 
* 그래서 `Object`를 상속하는 클래스, 즉 모든 클래스는 이 메서드들을 일반 규약에 맞게 재정의해야 함 -> 만약 메서드를 잘못 구현하면 대상 클래스가 이 규약을 준수한다고 가정하는 클래스(`HashMap`과 `HashSet` 등)를 오작동하게 만들 수 있다. 
* ***`final`이 아닌 `Object` 메서드들을 언제 어떻게 재정의해야 하는가에 초점***

## Item12. `toString`을 항상 재정의하라
`toString`의 규약은 모든 하위 클래스에서 이 메서드를 재정의하라고 한다. `equals`와 `hashCode` 규약 만큼 대단히 중요하진 않지만, 사용하기에 좋고 디버깅이 쉬워진다. 직접 호출하지 않더라도 `printf`, 문자열 연결 연산자 (+) 등에서 쓰일 것이다. 제대로 재정의하지 않으면 쓸모 없는 메시지만 로그에 남는다. 

### 내용은?
1. 실전에서 `toString`은 그 객체가 가진 주요 정보 모두를 반환하는 게 좋다. 하지만 객체가 거대하거나 객체의 상태가 문자열로 표현하기 적합하지 않다면 무리가 있다. 그렇다면 요약 정보를 담고, 스스로를 완벽히 설명하는 문자열이어야 한다. 
2. 반환값의 포맷을 문서화할지 정해야 한다. 특히 value object라면 권장한다. 포맷을 명시하면 그 객체는 표준적이고, 명확하고, 사람이 읽을 수 있게 된다. 포맷을 명시하기로 했다면, 상호 전환할 수 있는 정적 팩터리나 생성자를 함께 제공해주면 좋다. 자바 플랫폼의 많은 값 클래스가 따르는 방식이기도 하다. e.g. `BigInteger`, `BigDecimal`, 대부분의 primitive type 클래스
	* 물론 그 포맷에 평생 얽매이게 되므로 단점이 되기도 한다. 포맷이 바뀌면 사용하던 코드들과 데이터들은 엉망이 될 것이다. 유연성이 떨어질 수 있다.
3. 포맷 명시 여부와 상관없이 `toString`이 반환한 값에 포함된 정보를 얻어올 수 있는 API를 제공하자. 그렇지 않으면 toString의 반환값을 파싱하는 케이스가 생긴다. 
4. 정적 유틸리티 클래스(Item 4)는 `toString`을 제공할 이유가 없다. 대부분의 열거 타입(Item 34)도 자바가 이미 완벽한 toString을 제공하니 따로 재정의하지 않아도 된다. 